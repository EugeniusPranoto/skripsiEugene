<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A fully featured admin theme which can be used to build CRM, CMS, etc.">
    <meta name="author" content="Coderthemes">

    <link rel="shortcut icon" href="assets/images/favicon_1.ico">

    <title>PGI | PT. POLARIS GRAHA INTERNUSA</title>

    <link href="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/plugins/custombox/css/custombox.css" rel="stylesheet">
    <link href="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link href="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/css/core.css" rel="stylesheet" type="text/css" />
    <link href="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/css/components.css" rel="stylesheet" type="text/css" />
    <link href="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/css/icons.css" rel="stylesheet" type="text/css" />
    <link href="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/css/pages.css" rel="stylesheet" type="text/css" />
    <link href="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/css/responsive.css" rel="stylesheet" type="text/css" />

    <!-- HTML5 Shiv and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/js/modernizr.min.js"></script>

    <style type="text/css">
        table {
            border-collapse: separate;
            border-spacing: 10px;
            /* Apply cell spacing */
        }

        table,
        th,
        td {
            border: 1px solid #666;
        }

        table td {
            padding: 2px;
            /* Apply cell padding */
        }

        table th {
            padding: 8px;
            /* Apply cell padding */
            font-weight: normal;
        }
    </style>

</head>


<body class="fixed-left">

    <!-- Begin page -->
    <div id="wrapper">

        <!-- Top Bar Start -->

        <!-- Top Bar End -->


        <!-- ========== Left Sidebar Start ========== -->

        <?php include('navbar.php'); ?>
        <!-- Left Sidebar End -->



        <!-- ============================================================== -->
        <!-- Start right Content here -->
        <!-- ============================================================== -->
        <div class="content-page">
            <!-- Start content -->
            <div class="content">
                <div class="container">

                    <!-- Page-Title -->
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="btn-group pull-right m-t-15">
                                <button type="button" class="btn btn-default dropdown-toggle waves-effect waves-light" data-toggle="dropdown" aria-expanded="false">Settings <span class="m-l-5"><i class="fa fa-cog"></i></span></button>
                                <ul class="dropdown-menu drop-menu-right" role="menu">
                                    <li><a href="#">Action</a></li>
                                    <li><a href="#">Another action</a></li>
                                    <li><a href="#">Something else here</a></li>
                                    <li class="divider"></li>
                                    <li><a href="#">Separated link</a></li>
                                </ul>
                            </div>

                            <h4 class="page-title">Upper Level Shed Layout</h4>
                            <ol class="breadcrumb">
                                <li><a href="#">Dashboard</a></li>
                                <li class="active">View Layout</li>
                            </ol>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-lg-12">
                            <div class="card-box">
                                <?php foreach ($layout as $list) { ?>
                                    <h4 class="m-t-0 header-title"><b> <?php echo $list->layout_name ?></b></h4>
                                    <p class="text-muted font-13 m-b-30">
                                        Manage Inventory on First Shed
                                    </p>


                                    <?php foreach ($layout as $list) {
                                            $a =  $list->layout_quantity ?>
                                        <table border="1">
                                            <tr>
                                                <th rowspan="3"> G A T E</th>
                                                <td rowspan="3" style="border:0px"></td>
                                                <?php
                                                        for ($i = 1; $i <= $a / 2; $i++) { ?>
                                                    <?php $flag = 0; ?>
                                                    <?php foreach ($check as $list) { ?>
                                                        <?php if ($list->layout_box_number == $i) { ?>
                                                            <td>
                                                                <button class="btn waves-effect waves-light" style="background-color:grey; color:white; width:100%" data-toggle="modal" data-target="#custom-width-modal<?php echo $i; ?>" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;"><?php echo $i ?></button>
                                                            </td>
                                                        <?php $flag = 1;
                                                                        } ?>
                                                    <?php
                                                                }
                                                                if ($flag == 0) { ?>
                                                        <td>
                                                            <button class="btn waves-effect waves-light" style="background-color:white; width:100%" data-toggle="modal" data-target="#custom-width-modal<?php echo $i; ?>" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;"><?php echo $i ?></button>
                                                        </td>
                                                <?php
                                                            }
                                                        } ?>
                                                        
                                            </tr>
                                            <tr>
                                                <td colspan="20" style="text-align:center">FEEDLOT</td>
                                            </tr>
                                            <tr>
                                                <?php
                                                        for ($i = 21; $i <= $a; $i++) { ?>
                                                    <?php $flag = 0; ?>
                                                    <?php foreach ($check as $list) { ?>
                                                        <?php if ($list->layout_box_number == $i) { ?>
                                                            <td>
                                                                <button class="btn waves-effect waves-light" style="background-color:grey; color:white; width:100%" data-toggle="modal" data-target="#custom-width-modal<?php echo $i; ?>" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;"><?php echo $i ?></button>
                                                            </td>
                                                        <?php $flag = 1;
                                                                        } ?>
                                                    <?php
                                                                }
                                                                if ($flag == 0) { ?>
                                                        <td>
                                                            <button class="btn waves-effect waves-light" style="background-color:white; width:100%" data-toggle="modal" data-target="#custom-width-modal<?php echo $i; ?>" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;"><?php echo $i ?></button>
                                                        </td>
                                                <?php
                                                            }
                                                        } ?>
                                        </table>
                                <?php  }
                                } ?>
                            </div>
                        </div>
                    </div>
                </div> <!-- container -->

            </div> <!-- content -->

            <footer class="footer">
                © 2019. All rights reserved. PT Polaris Graha Internusa
            </footer>

        </div>
        <!-- ============================================================== -->
        <!-- End Right content here -->
        <!-- ============================================================== -->


        <!-- Right Sidebar -->
        < <!-- /Right-bar -->


    </div>
    <!-- END wrapper -->

    <script>
        var resizefunc = [];
    </script>

    <!-- jQuery  -->


    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/js/jquery.min.js"></script>
    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/js/bootstrap.min.js"></script>
    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/js/detect.js"></script>
    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/js/fastclick.js"></script>
    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/js/jquery.slimscroll.js"></script>
    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/js/jquery.blockUI.js"></script>
    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/js/waves.js"></script>
    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/js/wow.min.js"></script>
    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/js/jquery.nicescroll.js"></script>
    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/js/jquery.scrollTo.min.js"></script>


    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/js/jquery.core.js"></script>
    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/js/jquery.app.js"></script>

    <!-- Modal-Effect -->
    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/plugins/custombox/js/custombox.min.js"></script>
    <script src="http://localhost/Skripsi/assets/Template_Thesis_Admin/Admin/light/assets/plugins/custombox/js/legacy.min.js"></script>
</body>

</html>

<?php
for ($i = 1; $i <= $a; $i++) { ?>
    <div id="custom-width-modal<?php echo $i; ?>" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title">Shed Number Details</h4>
                </div>
                <div class="modal-body">
                    <form action="<?php echo base_url() . 'c_layout/InsertItem' ?>" method="post" data-parsley-validate novalidate>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="field-1" class="control-label">Item Code</label>
                                    <select class="form-control" name="id_item" id="id_item<?php echo $i ?>">
                                        <?php
                                            foreach ($item as $itemList) { ?>
                                            <option value="<?= $itemList->id_item ?>"><?= $itemList->item_code ?></option>
                                        <?php } ?>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="field-2" class="control-label">Cow Type</label>
                                    <input type="text" id="type<?php echo $i; ?>" value="" name="type" readonly value="" class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="field-3" class="control-label">Current Weight</label>
                                    <input type="text" id="test3<?php echo $i; ?>" name="current" readonly class="form-control" name="item_weight">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="field-4" class="control-label">Date Arrived</label>
                                    <input type="text" id="date<?php echo $i; ?>" name="date" readonly value="" class="form-control">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="field-5" class="control-label">Arrived From</label>
                                    <input type="text" id="arrival<?php echo $i; ?>" name="arrival" readonly value="" class="form-control">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="field-6" class="control-label">Purcased price</label>
                                    <input type="text" id="price<?php echo $i; ?>" name="price" readonly value="" class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="field-7" class="control-label">Status</label>
                                    <input type="text" id="status<?php echo $i; ?>" name="status" readonly value="" class="form-control">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="field-8" class="control-label">Box Number</label>
                                    <input type="text" name="number" readonly value="<?php echo $i ?>" class="form-control">
                                </div>
                            </div>
                        </div>

                        <script type="text/javascript" src="<?php echo base_url() . 'assets/jquery-3.3.1.js' ?>">
                            // function EnableDisableTextBox(relocation) {
                            //     var txtRelocate = document.getElementById("relocate");
                            //     txtRelocate.disabled = relocation.checked ? false : true;
                            //     if (!txtRelocate.disabled) {
                            //         txtRelocate.focus();
                            //     }
                            // }


                           function showHide()
                           {
                                var checkBox = document.getElementById("relocation");
                                var show = document.getElementById("show");

                                if (checkBox.checked == true){
                                    show.style.display = "block";
                                } else {
                                    show.style.display = "none";
                                }

                           }

                           
                           $("#relocation").change(function () {
                                   $("#show").toggle();
                            })
                        </script>
                        
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                <input type="checkbox" value="relocate" id="relocation" onclick="showHide()"> Relocate
                                </div>
                            </div>
                        </div>
                        <div id ="show" style = "display:show;">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="field-8" class="control-label">Change Layout</label>
                                    <select class="form-control" name="id_layout" id="id_layout" >
                                        <?php
                                            foreach ($layoutlist as $list) { ?>
                                            <option value="<?= $list->id_layout ?>"><?= $list->layout_name ?></option>
                                        <?php } ?>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group no-margin">
                                    <label for="field-9" class="control-label">Relocate To</label>
                                    <select class="form-control" name="relocate" id="relocate" disabled="disabled" >
                                        <?php for ($j = 1; $j <= 40; $j++) {
                                                $flag = 0;
                                                foreach ($relocate as $list) { ?>
                                                <?php if ($list->layout_box_number == $j) { ?>
                                                <?php $flag = 1;break;}
                                                        }
                                                   if($flag == 0){     
                                                        ?>
                                                        <option><?php echo $j ?></option>
                                        <?php
                                                   }   
                                            }   ?>



                                    </select>
                                </div>
                            </div>
                        </div>
                         </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default waves-effect" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-danger waves-effect" data-dismiss="modal">Delete</button>
                    <a href="<?php echo base_url() . 'c_layout/InsertItem' ?>"><button type="submit" class="btn btn-info waves-effect waves-light">Save changes</button></a>
                </div>
                </form>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function() {

            $('#id_item<?php echo $i; ?>').change(function() {
                var id_item = $(this).val();
                $.ajax({
                    url: "<?php echo site_url('c_layout/getCode'); ?>",
                    method: "POST",
                    data: {
                        id_item: id_item
                    },
                    async: true,
                    dataType: 'json',
                    success: function(data) {
                        $('#test3<?php echo $i; ?>').val(data[0].item_weight);
                        $('#type<?php echo $i; ?>').val(data[0].item_category);
                        $('#date<?php echo $i; ?>').val(data[0].item_date);
                        $('#arrival<?php echo $i; ?>').val(data[0].item_arrival);
                        $('#price<?php echo $i; ?>').val(data[0].item_price);
                        $('#status<?php echo $i; ?>').val(data[0].item_status);

                    }
                });
                return false;
            });

        });

        $(document).ready(function() {

            $('#id_layout<?php echo $i; ?>').change(function() {
                var id_layout = $(this).val();
                $.ajax({
                    url: "<?php echo site_url('c_layout/getLayout'); ?>",
                    method: "POST",
                    data: {
                        id_layout: id_layout
                    },
                    async: true,
                    dataType: 'json',
                    success: function(data) {
                        // $('#test3<?php echo $i; ?>').val(data[0].item_weight);

                    }
                });
                return false;
            });

        });
    </script>

<?php } ?>